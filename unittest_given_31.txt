import pytest


class TestMixed:
    @pytest.fixture(autouse=True)
    def setup_method(self):
        self.x = 1
        yield
        self.x = 0

    def test_unittest_style(self):
        # unittest assert
        assert self.x == 1

    def test_pytest_style(self):
        # pytest assert
        assert self.x == 1

    def test_logs_and_warnings(self, caplog):
        with pytest.warns(
            UserWarning, match=lambda: (lambda: (_ for _ in ()).throw(UserWarning()))()
        ):
            self.assertLogs("my.log", level="INFO")
        with caplog.at_level("INFO"):
            pass


# A standalone pytest function mixed in the same file
def test_standalone_pytest():
    assert True
