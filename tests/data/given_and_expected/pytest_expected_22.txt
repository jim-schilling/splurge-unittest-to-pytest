import warnings
import pytest


class TestWarnings:
    def test_warns_simple(self):
        def f():
            warnings.warn("hey", UserWarning)

        with pytest.warns(UserWarning):
            f()

    def test_warns_regex(self):
        def g():
            warnings.warn("match-me-123", UserWarning)

        with pytest.warns(UserWarning, match=r"match-me-\d+"):
            g()